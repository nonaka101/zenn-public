---
title: "📁B300：概要 基本コンポーネント"
---

## この節について

本節では、サイトの様々なところに使う部品（コンポーネント）について設計していきます。  

## 本説の目次

### B301：構成

- 各種基本コンポーネントの画像と説明
  - エレメントモジュール
  - ブロックモジュール
  - レイアウト
  - 特殊系
    - プログラムモジュール
    - WordPress用モジュール

### B302：`el_thumbnail`

- サムネイル要素に使われる
- 最も簡単な部品であり、これを使ってエレメントモジュールを学んでいく
- サムネイル画像はどこで使われ、WordPressはどう関わるか
- カード形式で使うアスペクト比について、画像とどう折り合いをつけるか

### B303：`el_heading`

- 見出し要素に使われる
- 前項の基礎からメディアクエリを使ったケースとなる
- 『デジタル庁デザインシステム（Ver 1.3.2）』で規定してある内容との兼ね合い
- どういった場面で `rem` を使うべきなのか？
- カスタムプロパティを使ったスペース管理
- バリエーションは６つあるがモディファイアは使わない
- モバイルファーストで作る時の手順

### B304：`el_link`

- リンク要素（インライン）に使われる
- 前項までの内容にプラスして、擬似クラスを扱う
- デフォルトの `a` タグとの違い
- セマンティックカラーを擬似クラスごとに使い分ける

### B305：`el_btn`

- `a`, `button` タグを使ったボタン要素に使われる
- これまでの内容にプラスして、モディファイアを扱う
- ３種あるボタンの説明（Primary, Secondary, Tertiary）
- ベースクラスとモディファイアの関係
- デフォルトスタイルの打ち消し
- テキストサイズに `rem`、余白に `px` を使う理由
- `disabled` 属性を付与した場合のスタイル
- 自身のサイズに対応した角丸にするテクニックについて
- アクセシビリティの観点から、`a`, `button` タグは適切に使用すべき

### B306：`bl_tagMenu`

- 各サイドバーやフッター、ダイアログなどで使われるメニュー要素
- ブロックモジュールについての基礎的な要素となる
- WordPress側のサブメニューを考慮
- アクセシビリティについて
  - `list-type: none;` の問題点
  - `aria-labeledby` でラベル要素と紐づけ
  - `aria-hidden` で消しつつ読み上げには反映させる

### B307：`bl_postData`

- 投稿ページで使われる、記事の補足情報を載せる欄となる
- WordPressのDBが扱っている記事データについて
- （上記が）投稿ページでどのように反映されているか
- なんで補足情報を画面上部に持ってきたかの私見
- `flex-flow: row wrap` を使いレイアウトを構成する

### B308：`bl_pager`

- 複数ページにまたがる場合の区切り要素となる
- 出力内容に幅がある中で位置を固定させる方法
- インラインSVGを使ったボタン設計
- アクセシビリティについて
  - `nav` タグについて
  - WAI-ARIA を使った読み上げ調整

### B309：`bl_blockSkip`

- ブロックスキップとは？
  - どこで使われ、なぜ必要なのか？
  - WCAGでは、実は現在必須要件ではない
- 本テーマでは、２箇所で用いている
- 通常はスクリーンリーダー用要素によく使われる方法で隠す
- `focus-within` を使った表示方法
- ページ種類や画面サイズによるリンク要素の差異についてはモディファイアで対応
- リンク先について
  - URLフラグメントを使用してアンカーをつける
  - `tabindex="-1"` を使用

### B310：`bl_accordion`

- 展開/格納ができる要素
- `details`, `summary` タグについて
- デフォルトのスタイルを剥ぐ
- CSS の `background-image` で `∨` を表現
  - ダークモード時は色を反転させることで対応
  - 展開時はマークを180度回転
- アーカイブ用パーツとして
  - WordPressではカテゴリに親子関係を持たせられる
  - `summary` の暗黙のロールは `button`
  - そのため、展開/格納ボタンとリンク要素は分ける必要がある

### B311：`bl_searchForm`

- サイト内検索用のフォーム
- `form` 要素について
- CSS の `background-image` で `∨` を表現
  - ダークモード時は色を反転させることで対応
- モバイルファースト設計の例外として `max-width` によるメディアクエリを使用
- 非常に画面幅が小さいケースの想定

### B312：`bl_card` (1)

- 様々な場面で使用される、1つの記事をカードにした要素
- WordPressでの記事データについて
- 各種ページにある、カードのバリエーション
- 複数の `a` タグ使用による、クリック可能範囲について
- 擬似クラス関数 `:has()`, `:not()` について

### B312：`bl_card` (2)

- 前項の基本設計を使い、バリエーションを設ける
- カード群を格納する要素を作成
- バリエーション１：スティッキー
- バリエーション２：クリッカブル
- バリエーション３：小サイズ

### B313：`ly_footer`

- フッター要素を使い、簡易的なレイアウトから学んでいく
- 12グリッド構成について
  - 中身の構成は画面幅に応じて変わる
- ウィジェット要素による構成

### B314：`ly_mainArea` (1)

- フッターに対し、メインエリアのレイアウト
- ここでも12グリッド構成を使用
  - ただしページの種類に応じて中身の構成が変わる
  - 更に画面幅に応じても構成は変化する
  - `ly_footer` とはグリッド構成を別にする
- ランドマーク要素について
- ここではHTML構成にとどめ、どのような形にしていくかを説明

### B314：`ly_mainArea` (2)

- 上記で作成したHTML構成を使い、実際にスタイリングを施していく
- メインコンテンツは２つのバリエーションがあるため、モディファイアにて対応
- ヘッダー要素はモバイル画面時にはグリッドシステムから外れる
- サイドバーは画面幅に余裕があるデスクトップ画面時のみ表示
  - サイドバーにあった中身は、メニューダイアログが受け持つ

### B315：`ly_dialog` (1)

- ダイアログの役割について
- モーダルダイアログはアクセシビリティへの配慮が必須
  - フォーカス制御
  - 自身の展開/格納 状態
  - ダイアログ内に自身を閉じる手段を（できれば複数）用意
- 上記を達成するために、大きく2つの方法がある
  - WAI-ARIA と JavaScript を使う方法
    - ライブラリの使用でなければ、かなりの工数が必要となる
  - `dialog` 要素は最近の機能だが、ブラウザ側が自動で諸々をやってくれる
  - 本テーマでは、`dialog` 要素を使用する
- 実際に `dialog` を用いて、制御を試みる

### B315：`ly_dialog` (2)

- 前項で作成した `dialog` を用いて、スタイリングを施していく
- 展開ボタンの作成
  - インラインSVGを用いたラベル付きアイコンの形式に
  - 後の `bl_header` に絡む話だが、サイズは `px` を使用する
- デフォルトのスタイルを上書きして画面いっぱいにメニューを展開できるように

### B315：`ly_dialog` (3)

- スタイル規程で残った、メニューのヘッダー部を作成する

### B316：`js_pageTop` (1)

- 画面左下に固定表示される「ページトップに戻る」ボタン
- ここでは JavaScript を除いた、HTMLとCSSを作成
- フォントサイズの変更に影響しないよう、サイズや位置の単位は `px` 使用
- スクロール状況による表示/非表示の切り替え
  - JavaScript で `hidden` 属性を制御することを想定したスタイリング
  - `@keyframe` を使ったアニメーション制御

### B316：`js_pageTop` (2)

- 前項で作成した要素に対し、JavaScriptで機能を実装していく
- スクロール機能とフォーカス機能をセットで用いる
- スクロール量の判定をし、`hidden` 属性をつけ外しする

### B317：`wp_blockContents`

- WordPress 専用のモジュールで、ブロックエディタに対応したコンテンツのスタイリングを行う
- ただし本項は暫定的なものであり、完全に対応できていない状態
- とりあえず見出し要素のみのスタイリングに留まっている
