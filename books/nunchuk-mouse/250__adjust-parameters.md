---
title: "📄設計：パラメーター調整"
---

## はじめに

本項では、マウスとしての利用を想定したパラメータ調整について考えます。

## パラメータ調整

本リポジトリでは、センサー中心軸 から マウスボタンの割り当て まで様々な部分をユーザー側で調整可能なようにしています。

この段落では、その理由について説明していきます。

### 通常のマウスについて

コントローラー云々は一旦 置いておき、まずは通常のマウスについて考えてみます。

#### 製品としてのマウス

様々なメーカーがマウスを販売していますが、調べてみると基本機能となるカーソルやマウスボタン等に加え、多様な特徴を持っていることがわかります。

形状や重さといった物理面だけでなく、通信方式（有線 / 無線）やセンサー感度の切替、マクロボタン搭載 といった機能面でも様々です。

更に E-Sports の登場でゲーミングマウスの市場が新たに成長したりと、「マウスというデザイン」は **1 つの理想形に収斂せず、様々な需要、つまりニーズに沿って分化していっている**ように思います。

それはすなわち、**ユーザー毎にマウスに求める役割が異なる**ということです。

#### OS 上のマウス

次に、マウスを PC に接続した場面を考えます。

ミドルクラス以上のマウスだと、機器のスイッチや専用ソフトにて細かな調整が可能だったりします。一方で 安価なマウスでも、OS 上で設定変更することで ある程度の調整が行えたりします。調整できる内容は OS 間で微妙に違ってきますが、カーソル感度やホイールのスクロール方向などは共通しているように思います。

こうした設定を設けている意義は、**ユーザーの利便性を確保する上で重要であるため**なのかなと、私は考えています。

※ 各種 OS 上でのマウス設定画面を、下記に掲載しています。

:::details ChromeOS

![マウス設定画面](/images/books/nunchuk-mouse/os-mouse-chrome-01.png)
*Chrome OS：マウス設定*

:::

:::details Windows

![マウス設定画面](/images/books/nunchuk-mouse/os-mouse-windows-01.png)
*Windows：マウス設定①*

![マウス設定画面](/images/books/nunchuk-mouse/os-mouse-windows-02.png)
*Windows：マウス設定②*

:::

:::details MacOS

![マウス設定画面](/images/books/nunchuk-mouse/os-mouse-mac-01.png)
*MacOS：マウス設定*

:::

### アクセシビリティとマウス

ユーザーにとっての使いやすさ（≒ ユーザビリティ）と似通った視点として、アクセシビリティ[^1]があります。アクセシビリティの観点からは、健常者がマウスで PC を操作するのと**同等に**、障がいを持つ人が PC を操作できることが求められます。

[^1]: 私は Accessible を「アクセス（*Access*）」と「〜することができる（*〜able*）」の組み合わせとイメージしており、障がいの有無を問わず**誰もが同等に利用することができる状態**を表現するものと捉えています。

#### 一般的なマウスを想定したアクセシビリティ上の課題

一般的なマウスがアクセシビリティにどのような影響があるかを考えていきます。ここでいう「一般的なマウス」というのは、おおよその人が持つであろうマウスのイメージです。

- 手のひらサイズの半卵型の形状
- ボタンやホイールを、人差し指と中指を使って操作
- マウス自体を、机上で動かすことで操作

こうして文字化してみると、まずマウス操作には 上肢運動が必要です。カーソル操作というのは意識してみると、腕全体を使っていることがわかります。

次に、マウス操作には手指の巧緻性が求められます。手指に加える力を高度に制御できないと、ダブルクリックやドラッグ操作ができませんし、意図せぬ操作に繋がります。

そして、マウス操作は座位以外、例えば臥位（仰向け や うつ伏せ など）では難しいことが多いです。カーソル移動という操作には マウスを動かす一定の平面が必要ですし、腕を曲げた状態でないと不便です。

そのためマウスを上手く扱えない人は別の機器を使うことがあります。一般にトラックボールがイメージされますが、スティック型や十字キー型、他にも視線誘導型など 程度や状況に応じて様々な手段があります。

#### OS に搭載されているアクセシビリティ設定

マウス操作に関しては、OS によってアクセシビリティ設定があります。各種 OS 上でのアクセシビリティ設定画面を、下記に掲載しています。

:::details ChromeOS

![アクセシビリティ設定画面](/images/books/nunchuk-mouse/os-accessibility-chrome-01.png)
*Chrome OS：アクセシビリティ設定①*

![アクセシビリティ設定画面](/images/books/nunchuk-mouse/os-accessibility-chrome-02.png)
*Chrome OS：アクセシビリティ設定②*

:::

:::details Windows

![アクセシビリティ設定画面](/images/books/nunchuk-mouse/os-accessibility-windows-01.png)
*Windows：アクセシビリティ設定*

:::

:::details MacOS

![アクセシビリティ設定画面](/images/books/nunchuk-mouse/os-accessibility-mac-01.png)
*MacOS：アクセシビリティ設定*

:::

### 本リポジトリでマウスに求める役割

ここまでの内容を踏まえ本リポジトリでは、（コントローラーを使った）マウスに対して下記の役割を担わせます。

- 様々なケースで利用できるという、アクセシビリティ
- ユーザー間の好みに合わせられるという、ユーザビリティ

そしてこれらを達成するために、設定項目を設けて 調整可能にすることが必要となります。

#### 必要となる設定項目

必要となる設定項目は、大きく分けると下記の 2 種類です。

- デバイスの個体差や環境（中心軸のズレ、遊び範囲、種類クロ/シロなど）
- ユーザー毎の利便性（利用する姿勢に合った向き指定、カーソル移動量、ボタンマッピングなど）

それらを分野ごとにまとめたものが、下記となります。

1. デバッグ関係
   - デバッグモードの切替
   - 状態通知に LED を使用するか
     - （使用する場合は）ピン番号
2. デバイス関係
   - ヌンチャク種別（クロ / シロ）
   - 接続先の OS（Mac か それ以外か）
3. センサー調整
   - スティック関係（`x`, `y` の 2 種）
     - 中心軸
     - 遊び範囲
   - 加速度関係（`x`, `y`, `z` の 3 種）
     - 中心軸
     - （平滑化用のサンプリング数）
4. マウス関係
   - 反応速度（≒ ディレイ）
   - カーソル移動量
   - ホイール移動量
   - ホイールスクロールの方向
   - ショートカットボタンを利用するか
     - （利用する場合は）待機時間
5. モード切替
   - 判定につかう方向
   - 許容する角度
6. ボタンマッピング
   - 各モードで割り振るマウスボタン

これらは設定項目として、ユーザーが容易に編集できるようしておきます。

## まとめ

本項では、マウスとしての利用を想定したパラメータ調整について考えました。

次章からは、本章で考えた内容を基に実際にコーディングをしていきます。
